<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <code >En esta ventana se listan todas los usuarios de la aplicación, puedes crear nuevos usuarios haciendo click en el boton agregar, se abrira un formulario para crearlo,
        tambien puedes cambiar la contraseña de los usuarios(usalo con precaución)
  </code>
  <mat-form-field class="w60">
    <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filtro">
  </mat-form-field>

  <div class="mat-elevation-z8 w60">
    <table mat-table [dataSource]="dataSource" matSort>

      <!-- Rut Column -->
      <ng-container matColumnDef="rut">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Rut </th>
        <td mat-cell *matCellDef="let row" (click)="AbrirParaEditar(row)"> {{row.rut}} </td>
      </ng-container>

      <!-- Nombre Column -->
      <ng-container matColumnDef="nombre">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre </th>
        <td mat-cell *matCellDef="let row" (click)="AbrirParaEditar(row)"> {{row.nombre}} </td>
      </ng-container>

      <!-- Cantidad Column -->
      <ng-container matColumnDef="empleados">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> N° Empleados </th>
        <td mat-cell *matCellDef="let row" (click)="AbrirParaEditar(row)"> {{row.empleados}} empleados </td>
      </ng-container>

      <!-- Correo Column -->
      <ng-container matColumnDef="correo">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Correo </th>
        <td mat-cell *matCellDef="let row" (click)="AbrirParaEditar(row)"> {{row.correo}} </td>
      </ng-container>

      <!-- Cambiar contraseña Column -->
      <ng-container matColumnDef="cambiarpassword">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> </th>
        <td mat-cell *matCellDef="let row" (click)="AbrirParaEditar(row)">
          <button mat-raised-button (click)="cambiarPassword(row.rut)" class="btn btn-warning">Cambiar
            contraseña</button>
        </td>
      </ng-container>
      <!-- eliminar Column -->
      <ng-container matColumnDef="eliminar">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> </th>
        <td mat-cell *matCellDef="let row" (click)="AbrirParaEditar(row)">
          <button mat-raised-button (click)="Eliminar(row.id)" class="btn btn-danger">Eliminar</button>
        </td>
      </ng-container>
      <!-- Modificar Column -->
      <ng-container matColumnDef="editar">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> </th>
        <td mat-cell *matCellDef="let row" (click)="AbrirParaEditar(row)">
          <button mat-raised-button [routerLink]="['/cadmin/edit',row.id]" class="btn btn-primary">Editar</button> </td>
      </ng-container>


      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;">
      </tr>
    </table>

    <mat-paginator [pageSizeOptions]="[10, 25, 50, 100]"></mat-paginator>
  </div>

  <div class="agregar ">
    <button mat-raised-button [routerLink]="['/cadmin/edit',0]" class="btnAgregar">Agregar</button>

  </div>
</body>

</html>